<!doctype html>
<html lang="en">
    <head>
		<meta charset="utf-8">

		<title>Improved Methods for Particle Tracking in CAD-Based Monte Carlo Radiation Transport</title>

		<meta name="description" content="Preliminary Defense Slides">
		<meta name="author" content="Patrick C Shriwise">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="reveal.js/css/reveal.css">
		<link rel="stylesheet" href="reveal.js/css/theme/uwmad.css" id="theme">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="reveal.js/lib/css/zenburn.css">

		<link rel="stylesheet" href="presentable/dist/presentable.css">

		<!-- TOC-Progress plugin -->
		<link rel="stylesheet" href="toc-progress/plugin/toc-progress/toc-progress.css">


		<!--[if lt IE 9]>
		    <script src="lib/js/html5shiv.js"></script>
		<![endif]-->
    </head>
    <!-- some custom css classes -->
    <style class="text/css">
      h2.vcenter {
      text-align: center; letter-spacing: 1px; height: 10em; padding: 4em 0%; width:100%;}
      tr.noBorder td {border: 0;}
      td.redBlock {text-align: center; color: white; background-color: #b70101; vertical-align: middle; }
    </style>
    
    <body>
	<div class="reveal">
	    <div class="slides">
		<!-- Title Slide -->
		<section class="no-toc">
		    <h3 class="no-toc-progress">Improved Methods for Particle Tracking in CAD-Based Monte Carlo Radiation Transport</h3>
		    <h2>University of Wisconsin-Madison</h2>
		    <p>
			Patrick C. Shriwise
		    </p>
		    <p>
			<span id="displayDate">empty text</span>
		    </p>
		    <a href="https://beta.etherpad.org/p/shriwise_prelim_2016">https://beta.etherpad.org/p/shriwise_prelim_2016</a>
		</section>

		<!-- Table of Contents -->		
		<section class="no-toc">
		    <h3 class="no-toc-progress"> Contents </h3>
		    <br><br>
		    <table width="100%">
			<tbody>
			    <tr>
				<td style="border: 0" align="left" ><a href="#Motivation">Motivation</a></td>
				<td style="border: 0" align="right"><a href="#Motivation">1</a></td> 
			    </tr>
			    <tr>
				<td style="border: 0" align="left" ><a href="#Background">Background</a></td>
				<td style="border: 0" align="right"><a href="#Background">2</a></td> 
			    </tr>
			    <tr>
				<td style="border: 0" align="left" ><a href="#HV">Feature-Adaptive BVH Construction</a></td>
				<td style="border: 0" align="right"><a href="#HV">3</a></td> 
			    </tr>
			    <tr>
				<td style="border: 0" align="left" ><a href="#SIMD_BVH">Enhanced SIMD BVH Traversals for Radiation Transport</a></td>
				<td style="border: 0" align="right"><a href="#SIMD_BVH">4</a></td> 
			    </tr>
			    <tr>
				<td style="border: 0" align="left" ><a href="#SDF">Signed Distance Field Preconditioner</a></td>
				<td style="border: 0" align="right"><a href="#SDF">5</a></td> 
			    </tr>
			    <tr>
				<td style="border: 0" align="left" ><a href="#Summary">Summary</a></td>
				<td style="border: 0" align="right"><a href="#Summar">6</a></td> 
			    </tr>
			    
			</tbody>
		    </table>
		</section>
		<!-- Motivation -->		
		<section id="Motivation">
		  
		    <section>
		      <h2 class="vcenter">Motivation</h2>
		    </section>
		    
		    <section>			
			<h2>Motivation</h2>
			<p>
			    CAD-Based Monte Carlo Radiation Transport (MCRT)
			</p>
			
			<ul>
			    <li> equal freedom in design and analysis </li>
			    <li> engineering analysis on the same model </li>
			</ul>
			<img src="images/cad_screenshot.png" style="border-style:none" height="400px"/>
		    </section>
		    
		    <section>
			<h2>MC Geometry Representations</h2>
			<table width="100%" style="border-style:black">
			    <tbody>
				<tr>
				    <th align="center">Native Geometry</th>
				    <th align="center">CAD Geometry</th>
				</tr>
				<tr>
				    <td style="vertical-align:top">
					<ul>
					    <li>Variants of Computational Solid Geometry (CSG)</li>
					    <li>Volumes formed from boolean combinations of simple implicit surfaces</li>
					    <li>Geometry queries are analytic in nature</li>
					</ul>
				    </td>
				    <td>
					<ul>
					    <li>Allows for higher order surface complexity</li>
					    <li>Contains convenient design tools:</li>
					    <ul>
						<li>extrude, sweep, loft, splines, etc.</li>
					    </ul>
					    <li>Geometry queries are complex and sometimes impossible analytically</li>
					</ul>
				    </td>
				</tr>
			    </tbody>
			</table>
		    </section>
		    
		    <section>
			<h3>CAD-Based MCRT</h3>
			<ul>
			    <li>A pathway for robust particle transport on CAD geometries exists.</li>
			    <br>
			    <ul>
				<li> Direct Accelerated Geometry Monte Carlo (DAGMC<a href="#bib1"><small style="vertical-align:bottom">[10]</small></a>)</li>
				<uL>
				    <li>Relies heavily on Mesh-Oriented DataBase (MOAB<a href="#bib"><small style="vertical-align:bottom">[9]</small></a>)</li>
				</uL>
					
			    </ul>
			    <br>
			    <li> This toolkit is not yet at its full potential. </li>
			    <br>
			    <ul>
				<li>Difficult to meet CAD quality required for robustness in DAGMC</li>
				<br>
				<li class="fragment highlight-blue">Long simulation times (2.5-10<i>x</i> longer than native codes) resulting in  hours or even days of additional simulation runtime</li>
			    </ul>
			</ul>
		    </section>
		    
		    <section>
			<h3> Research Goal </h3>
			<b>To provide CAD-based radiation transport performance comparable to native Monte Carlo geometry representations</b>
			<p>
			    <table>
				<tbody>
				    <tr>
					<td align="center"> FNG </td>
					<td align="center"> ATR </td>
					<td align="center"> UWNR </td>
				    </tr>
				    <tr>
					<td> <img src="images/FNG_cad.png" width="300px" style="border-style:none;vert-align:center" /> </td>
					<td> <img src="images/ATR_cad1.png" width="300px" style="border-style:none" /> </td>
					<td> <img src="images/UWNR_cad.png" width="300px" style="border-style:none" /> </td>
				    </tr>
				    <tr>
					<td align="center"> neutron source </td>
					<td align="center"> criticality </td>
					<td align="center"> criticality </td>
				    </tr>
				</tbody>
			    </table>
			</p>
			<p class="fragment fade-in"> These problems were run with both native & CAD geometries.</p>
		    </section>
		    
		    <section>
			<h3 class="no-toc-progress"> Research Goal </h3>
			<b>To provide CAD-based radiation transport performance competitive with native Monte Carlo geometry representations</b>
			<object data="performance_plot.html" width="800px" height="500px"> </object>
		    </section>

		    <section>
			<h3> Motivation Recap </h3>
			<br>
			<ul align="left">
			    <p align="left"><b>CAD-Based MCRT:</b></p>
			    <li class="fragment">Allows for better geometric fidelity</li>
			    <br>
			    <li class="fragment">Requires less human time in model generation </li>
			    <p align="left"><b>Benefits of this work:</b></p>
			    <li class="fragment">Performance comparable to native geometry makes this more realistic/deisrable for a more broad range of problems.</li>
			    <br>
			    <li class="fragment">Current problems requiring CAD-based MCRT will benefit from enhanced performance.</li>
			    <br>			    
			    <li class="fragment">New methods may be necessary for reasonable runtimes with charged particle transport.</li>
			</ul>
		    </section>
		    
		</section>

		<!-- Background  -->
 		<section id ="Background">
		    
		    <section>
			<h2 class="vcenter"> Background </h2>
		    </section>
		    
		    <section>
			<h2>DAGMC Geometry Workflow</h2>
			<table>
			    <tbody>
				<tr class="noBorder">
				    <td></td>
				    <td style="border: 0" ></td>
				    <td style="border: 0; vertical-align:bottom" align="center"> surface faceting </td>
				    <td style="border: 0" ></td>			    
				    <td style="border-top: 2px dashed black;border-left: 2px dashed black" align="center">particle tracking</td>
				    <td style="border-top: 2px dashed black"></td>			    
				    <td align="center" style="border-right: 2px dashed black;border-top: 2px dashed black">
					<span>MCNP5<a href="#bib1"><small style="vertical-align:bottom">[12]</small></a></span>
				    </td>
				</tr>
				<tr class="noBorder" style="height:100px">
				    <td class="redBlock" align="center"><p>CAD</p> <p>(Cubit/Trelis)</p></td>
				    <td style="vertical-align:middle" align="center"> &#8594; </td>			    
				    <td class="redBlock" align="center"><p>preprocessing</p><p>(MOAB)</p></td>
				    <td style="vertical-align:middle" align="center"> &#8594; </td>			    			    
				    <td class="redBlock" align="center" style="border-left: 2px dashed black"> <p>DAGMC</p><p>(MOAB)</p></td>
				    <td style="vertical-align:middle" align="center"> <p>&#8594;</p> <p>&#8592;</p> </td>			    			    
				    <td class="redBlock" align="center" style="border-right: 2px dashed black"> Monte Carlo </td>
				</tr>
				<tr class="noBorder">
				    <td align="center"> geometric design </td>
				    <td></td>
				    <td align="center"> make_watertight <a href="#bib"><small style="vertical-align:bottom">[8]</small></a> </p> </td>
				    <td></td>
				    <td align="center" style="border-left: 2px dashed black;border-bottom: 2px dashed black"> ray tracing </td>
				    <td style="border-bottom: 2px dashed black"></td>
				    <td align="center" style="border-right: 2px dashed black;border-bottom: 2px dashed black"> physics </td>			      
				</tr>
				<tr>
				    <td></td>
				    <td></td>			      
				    <td align="center">
					<img class="fragment fade-in" src="images/facet_tol_zoomed.png" height="100px"/>				  
					<img class="fragment fade-in" src="images/sealing_example.png" width="300px"/>
				    </td>
				    <td></td>
				    <td align="center" colspan="3" style="vertical-align:top">
					<p>Analysis</p>
				    </td>
				</tr>
			    </tbody>
			</table>
		    </section>

		    <section>
			<h3> MC Geometry Queries </h3>
			<small>
			<table>
			    <tbody>
				<tr class="noBorder">
				    <td align="center" style="border-top: 2px dashed black;border-left: 2px dashed black">particle tracking</td>
				    <td style="border-top: 2px dashed black"> </td>			    
				    <td align="center" style="border-top: 2px dashed black;border-right: 2px dashed black">
					<span>MCNP5<a href=#"bib"><small style="vertical-align:bottom">[12]</small></a></span>
				    </td>
				</tr>
				<tr class="noBorder" style="height:100px">
				    <td class="redBlock" align="center" style="border-left: 2px dashed black"> <p>DAGMC</p> <p>(MOAB)</p> </td>
				    <td style="vertical-align:middle" align="center"> <p>&#8594;</p> <p>&#8592;</p> </td>			    			    
				    <td class="redBlock" align="center" style="border-right: 2px dashed black"> Monte Carlo </td>
				</tr>
				<tr class="noBorder">
				    <td align="center" style="border-bottom: 2px dashed black;border-left: 2px dashed black"> ray tracing </td>
				    <td style="border-bottom: 2px dashed black"></td>
				    <td align="center" style="border-bottom: 2px dashed black;border-right: 2px dashed black"> physics </td>			      
				</tr>
			    </tbody>
			</table>
			</small>
			<p><b> 3 types of queries: </b> </p>
			<object data="../images/mc_geom_queries.svg" type="image/svg+xml" class="stretch"></object>
		    </section>

		    <section>
			<h3> Surface Faceting </h3>
			<p> <i>Faceting Tolerance</i>: maximum allowed diatance of farthest point on the facet from the analytic surface. </p>
			<img src="images/facet_tol_zoomed.png" height="100px" style="margin: -10px 0px 0px 0px"/>
			<ul>
			    <li> Discretization reduces all surfaces to planar type regardless of analytic surface complexity.</li>
			    <li> There are also now many, many more of them. </li>
			</ul>
			<br><br>
			<table>
			    <tbody>
				<tr>
				    <td></td>
				    <td>FNG</td>
				    <td>ATR</td>
				    <td>UWNR</td>
				    <td> ITER SDDR </td>
				</tr>
				<tr>
				    <td> Surfaces </td>
				    <td> $1 \times 10^3$ </td>
				    <td> $2.8 \times 10^3$ </td>
				    <td> $5.5 \times 10^3$ </td>
				    <td> $6.9 \times 10^3$ </td>
				</tr>
				<tr>
				    <td> Triangles </td>
				    <td> $1.2 \times 10^6$ </td>
				    <td> $4.9 \times 10^6$ </td>
				    <td> $3.3 \times 10^6$ </td>
				    <td> $4.4 \times 10^7$ </td>
				</tr>
			    </tbody>
			</table>
			<br>
			<p class="fragment"><b> A linear search of triangles is unreasonable.</b></p>
		    </section>

		    <section>
			<h3> Ray Tracing Acceleration Data Structures </h3>
			<br>
			<p align="left"><i> This is a field dedicated to rapid geometric queries on surface meshses of triangles.</i></p>
			<br>
			<p align="lef"t> It commonly employs a variety of hierarchical data structures: </p>
			<br>
			<ul>
			    <li style="horizontal-align:left"> Bounding Volume Hierarchy (BVH) </li>
			    <li> KDTree </li>
			    <li> Octree </li>
			    <li> ... </li>
			</ul>
		    </section>
		    
		    <section>
			<h3> Bounding Volume Hierarchy </h3>
			<br><br>
			<table>
			    <tbody>
				<tr>
				    <td> <img src="../images/bvh_2d_ex.png" width="700px"/></td>
				    <td class="fragment"> <img src="../images/binary_graph.png" width="600px"/></td>
				</tr>
			    </tbody>
			</table>
		    </section>
		    
		    
		    <section>
			<h3> Bounding Boxes </h3>
			<table>
			    <tbody>
				<tr>
				    <td align="center">
					Axis-Aligned Boxes
				    </td>
				  <td></td>
				  <td align="center">
				      Oriented Boxes
				  </td>
				</tr>
				<tr height="300px">
				  <td align="center"><iframe src="https://www.youtube.com/embed/w16oiYxFJJc" allowfullscreen height="300px" width="300px"></iframe></td>
				  <td><object data="../images/pauls_abbobb.svg" type="image/svg+xml"></object></td>
				  <td align="center"><iframe src="https://www.youtube.com/embed/z_H2E3vYp_M" allowfullscreen height="300px" width="300px"></iframe></td>
				</tr>
				<tr>
				    <td align="center">
					<ul style="vertical-align:top">
					    <li>Low storage (6 extents)</li>
					    <li>Fast, simple intersection checks</li>
					</ul>
				    </td>
				    <td></td>
				    <td align="center">
					<ul style="vertical-align:top">
					    <li>Higher storage (extents+axes)</li>
					    <li>Must re-orient ray for intersection checking</li>
					    <li>Bounds triangles well</li>
					</ul>
				    </td>
				</tr>
			    </tbody>
			</table>
		    </section>

		</section>

		<!-- High Valence Features -->
		<section id ="HV">

		  <section>
		    <h2 class="vcenter"> High Valence Mesh Features </h2>
		  </section>
		  
		    <!-- High Valence -->
		    <section>
			<h3> High Valence Mesh Features </h3>
			<ul>
			    <li>Common feature of many faceting algorithms</li>
			    <li>Result of trying to minimize triangles used to represent a surface</li>
			    <li>Known to be detrimental to DAGMC performance</li>
			</ul>
			<object align="center" data="images/hv.svg" height="400px" style="margin: 50px 50px 50px 50px" type="image/svg+xml"></object>
		    </section>
		    
		    <section>
			<h3>High Valence In Production Models</h3>
			<img src="images/hv_ex0.png" height="200px" />
			<img src="images/hv_ex1.png" height="200px" />
			<img src="images/hv_ex2.png" height="300px" />		    
		    </section>

		    <section>
			<h3> Altered Faceting </h3>
			<p><i> Length Tolerance: </i> maximum allowed length of facet edge.</p>
			<br><br>
			<table>
			    <tbody>
				<tr>
				    <td align="center"> Faceting Tolerance Only </td>
				    <td align="center">  With Length Tolerance </td>
				</tr>
				<tr>
				    <td align="center"><img src="../images/fng271_facet_tol.png" width="450px"/></td>
				    <td align="center"><img src="../images/fng271_len_tol.png" width="450px"/></td>
				</tr>
			    </tbody>
			</table>
		    </section>

		    <section>
			<h3> High Valence Test Model </h3>
			<p align="left">Created by manually faceting a cube surface. </p>
			<img src="../images/hv_study_design.png" height="350px"/>
			<p align="left"> Variable parameters: </p>
			<ul>
			    <li> fraction of surface that high valence region occupies</li>
			    <li> valence of corner vertices </li>
			</ul>
		    </section>
		    
		    <section>
			<h3> High Valence Study </h3>
			<img src="../images/hv_study_MOAB.png" height="500px" align="center" />
		    </section>
		     
		    <section>
			<h3> High Valence OBB Investigation </h3>
			<img src="../images/obbs_wsr_0.95.png" height="500px" align="center" />
		    </section>
		    
		    <section>
			<h3 class="no-toc-progress"> Median Splitting Algorithm </h3>
			<h4 align="center"> Controllable Parameters</h4>
			<table>
			    <tbody>
				<tr>
				    <td align="center"> Parameter </td>
				    <td align="center"> Default Value </td>
				</tr>
				<tr>
				    <td align="center"> Max Num. Leaf Entities </td>
				    <td align="center"> 8 </td>
				</tr>
				<tr>
				    <td align="center"> Max Tree Depth </td>
				    <td align="center"> 0 </td>
				</tr>
				<tr>
				    <td align="center"> Worst Split Ratio </td>
				    <td align="center"> 0.95 </td>
				</tr>
				<tr>
				    <td align="center"> Best Split Ratio </td>
				    <td align="center"> 0.0 </td>
				</tr>
			    </tbody>
			</table>
			<br>
			<p> $$ splitting\;ratio  = \dfrac{|left\; child\; primitives\; -\; right\; child\; primitives|}{parent\; entities} $$ </p>
			<br>
			<p align="center" class="fragment"> <b>Solution:</b> Set the worst splitting ratio to 1 to force continued build of leaf nodes. </p>
			
		    </section>
		
		    <section>
			<h3> New HV Study Results </h3>
			<img src="../images/hv_study_MOAB_wsr1.png" height="500px" align="center" />
			<p class="fragment fade-in"> Performance is maintained without need for altered faceting. </p> 
		    </section>
		        
		    <section>
			<h3> Surface Area Heuristic </h3>
			<p>The Surface Area Heuristic (SAH) improves BVH traversal performance by 30% on average.<a href="#bib"><small style="vertical-align:bottom">[5]</small></a></p>
			<br>
			<p>
			  $C_{s} =  C_{t} + \frac{A_{l}}{A_{p}} |P_{l}|C_{i} +  \frac{A_{r}}{A_{p}} |P_{r}|C_{i}$
			    <a href="#bib"><small style="vertical-align:bottom">[1]</small></a> 
			</p>
			<style class="text/css">
			 tr.noBorder td {border: 0;}
			</style>
			<table>
			    <tbody>
				<tr class="noBorder">
				    <td>$$C_{s}$$ </td><td> - estimated cost of split</td>
				</tr>
				<tr class="noBorder">
				    <td>$$C_{t}$$ </td><td> - cost of traversal to child nodes</td>
				</tr>
				<tr class="noBorder">
				    <td>$$A_{l} $$</td><td> - surface area of left child </td>
				</tr>
				<tr class="noBorder">
				    <td>$$A_{p} $$</td><td> - surface area of parent bounding volume</td>
				</tr>
				<tr class="noBorder">
				    <td>$$P_{l} $$</td><td> - primitives contained by the left child  </td>
				</tr>
				<tr class="noBorder">
				    <td>$$C_{i} $$</td><td> - cost of primitive intersection check </td>
				</tr>
				<tr class="noBorder">
				    <td>$$A_{r} $$</td><td> - surface area of right child </td>
				</tr>
				<tr class="noBorder">
				    <td>$$P_{r} $$</td><td> - primitives contained by the right child </td>
				</tr>
			    </tbody>
			</table>
		    </section>
		
		    <section>
			<h3> SAH Applied to High Valence </h3>
			<p align="center">This same test was performed using the <a href="https://embree.github.io/">Embree</a> ray tracing kernel. <a href="bib1"><small style="vertical-align:bottom">[11]</small></a></p>
			<img src="../images/hv_emdag.png" height="500px" align="center" />		    
		    </section>

		</section>

		<section>
		    <section>
			<h2 class="vcenter">Feature-Adaptive BVH Construction</h2>
		    </section>
		    
		    <section>
			<h3>Feature-Adaptive BVH Construction</h3>
			<br>
			<p align="left"> This process is likely of more interest to radiation transport than rendering. </p>
			<table>
			    <tbody>
				<tr>
				    <td></td><td></td>

				</tr>
				<tr>
				    <td style="border-right: 1px solid black"> Rendering </td>
				    <td align="right" width="850px"> $ (\sim 8 \frac{rays}{px})(1024 \times 1080\, px) $ = $1.7 \times 10^7 $ primary rays</td>
				</tr>
				<tr style="border-bottom: 1px solid black">
				    <td style="border-right: 1px solid black"> Radiation Transport </td>
				    <td style="vertical-align:middle" align="right"> $ 10^9 $ histories $ $ = $ 10^9 $ primary rays </td>
				</tr>
			    </tbody>
			</table>
			<p align="left"> There is at least an additional order-of-magnitude in secondary rays for radiation transport.</p>
			<ul class="fragment">
			    <li align="left"> Higher collision density </li>
			    <li align="left"> Secondary particle generation </li>
			    <li align="left"> Variance reduction </li>
			</ul>
		    </section>
		    
		    <section>
			<h3> General Ray Tracing Cost Analysis </h3>
			<table>
			    <tbody>
				<tr>
				    <td>
					<p>$ tts $ -  time to solution</p>
					<p>$ C $ -  cost of other operations </p>
					<p>$ T_{B} $ -  acceleration data structure build time </p>
					<p>$ T_{T} $ -  average traversal time </p>
					<p>$ N_{r} $ -  ray queries  required for solution </p>
					<p>$ q $ -  acceleration data structure quality </p>
				    </td>
				    <td>$$ tts = C + T_{B} + \sum_{}^{N_{r}} T_{T} $$
					$$ tts =\,  C + T_{B} + \sum_{}^{N_{r}} T_{T}(q,\ldots) $$
					$$ q(T_{B})  \rightarrow T_{T}(T_{B}) \rightarrow T_{T} \propto \frac{1}{{T_{B}}^{x}} \,\, (\, x \geq 0) $$
					$$ tts =\,  C + T_{B} + \sum_{}^{N_{r}} T_{T}(T_{B},\ldots) $$
				    </td>
				</tr>
			    </tbody>
			</table>
		    </section>
		    
		    <section>
			<h3> Proposed Building Scheme </h3>
			<br>
			<table>
			    <tbody>
				<tr>
				    <td class="redBlock">
					Construct BVH
					<p>
					    <ul>
						<li> SAH </li>
						<li> tag poorly formed leaves </li>
					    </ul>
					</p>
				    </td>
				    <td style="vertical-align:middle" align="center"> &#8594; </td>			    
				    <td class="redBlock">
					Resolve Tagged Leaves
					<p>
					    Step 1:
					    <ul>
						<li>feature detection</li>
						<li>registered features</li>
						<ul>
						    <li>criterion for detection</li>
						</ul>
					    </ul>
					</p>
					<p>
					    Step 2:
					    <ul>
						<li>modified SAH?</li>
						<li>modified Median Splitting</li>
					    </ul>
				    </td>
				</tr>
			    </tbody>
			</table>
			
		    </section>

		    <section>
			<h3> Feature-Adaptive BVH Contributions </h3>
			<br><br>
			
			<ul>
			    <li> Adaptive building addresses common mesh feature which is difficult for generalized heuristics to cope with and is deterimental to performance. </li>
			    <br>
			    <li> BVH heuristic adaptation maintains expected O(logN) performance without the need for additional triangles or mesh alteration. </li>
			</ul>
			<br><br>
			<p>
			    <span style="color:green"> $tts$ </span>
			    $ =\,  C +$ <span style="color:red">$T_{B}$</span>
			    $ + $
			    <span style="color:green">$\sum_{}^{N_{r}} T_{T}$</span>
			    $($
			    <span style="color:red">$T_{B}$</span> $,\ldots) $
			</p>

		    </section>
		    
		</section>
		
		<!-- SIMD BVH -->
		<section id="SIMD_BVH">
		    
		    <section>
			<h2 class="vcenter"> EmDAG </h2>
		    </section>
		    <section>
			<h2 class="no-toc-progress"> Architecture Based Acceleration </h2>
			<ul>
			    <li align="left"> Embree was not selected only for its use of the SAH. </li>
			    <br>
			    <li align="left"> It employs Single Instruction Multiple Data (SIMD) commands, performing  multiple ray-box and ray-triangle intersection checks at once in single-precision. </li>
			</ul>
			<br>
			<img src="../images/simd_ex.png" height="300px"/>
		    </section>
		    
		    <section>
			<h3> Some History </h3>
			<p> Two approaches to using SIMD in ray tracing: </p>
			<ul>
			    <li>N:1 - test many rays against a single box at once</li>
			    <li>1:N - test one ray against many boxes at once </li>
			</ul>
			    <p> Performance of selsected method selection will depend on <i>ray coherence</i>.</p>
			    <img src="../images/ray_coherence.jpg" width="500px"/>
			    <table width="500px"><tbody><tr><td align="center"> coherent</td><td align="center">incoherent</td></tr></tbody></table>
			    <small> <p>* image courtesy of <a href="https://software.intel.com/en-us/articles/embree-highly-optimized-visibility-algorithms-for-monte-carlo-ray-tracing">Intel</a></p></small>
		    </section>
		    
		    <section>
			<h3>Quasi-Monte Carlo Ray Tracing</h3>
			<p> photo-realism (rendering based on realistic photon physics)</p>
			<style class="text/css">
			 tr.noBorder td {border: 0;}
			</style>
			<table>
			    <tbody>
				<tr class="noBorder">
				    <td align="center"> <b>N:1</b> </td>
				    <td align="center"></td>
				    <td align="center"> <b>1:N</b> </td>
				</tr>
				<tr class="noBorder">
				    <large>
					<td align="center"> (ray packets) </td>
					<td align="center"></td>
					<td align="center"> (single-ray SIMD traversal) </td>
				    </large>
				</tr>
				<tr class="noBorder fragment fade-in">
				    <td align="center"> ray coherence </td>
				    <td style="vertical-align:middle" align="center"> &#8594; </td>
				    <td align="center"> ray incoherence </td>
				</tr>			    
				<tr class="noBorder fragment fade-in">
				    <td align="center"> visualization </td>
				    <td style="vertical-align:middle" align="center"> &#8594; </td>
				    <td align="center"> physical rendering/simulation </td>
				</tr>
				<tr class="noBorder fragment fade-in">
				    <td align="center"> </td>
				    <td style="vertical-align:middle" align="center"></td>
				    <td align="center" > <font color="#b7071">MCRT</font> </td>
				</tr>
			    </tbody>
			</table>
		    </section>

		    <section>
			<h3> SIMD BVH Topology </h3>
			<p>In order to take advantage of SIMD register widths BVH topologies are altered.</p>
			<img src="../images/quad_tree.png" class="stretch" />
			<p> This is accomplished by collapsing a binary tree into an n-ary tree.</p>
		    </section>
		    
		    <section>
			<h3> Integrating Embree with DAGMC </h3>
			<p style="color:#b70101"><b> (EmDAG) </b></p>
			<img src="../images/emdag_mapping.png" align="center"/>
		    </section>
		    
		    <section>
			<h3> Ray Fire Testing Zoo </h3>
			<br>
			<table style="margin: 100px 0px 0px 0px">
			    <tbody>
				<tr>
				    <td align="center"> <img src="../images/sphere.png" width="400px" /></td>
				    <td align="center"> <img src="../images/ds.png" width="400px" /></td>
				    <td align="center"> <img src="../images/larcyl.png" width="400px" /></td>
				</tr>
			    </tbody>
			</table>
		    </section>
		    
		    <section>
			<h3> Performance Comparison</h3>
			<table>
			    <tbody>
				<tr>
				    <td align="center"> <b>DAGMC (MOAB)</b> </td>
				    <td align="center"> <b>EmDAG (Embree)</b> </td>
				</tr>
				<tr>
				    <br>
				    <td> <object data="../images/eig_fix_rf_annotated.svg" width="500px" type="image/svg+xml" /> </td>
				    <td> <object data="../images/embree_rf_annotated.svg" width="500px"type="image/svg+xml"/> </td>
				</tr>
			    </tbody>
			</table>
		    </section>
		    
		    <section>
			<h3> Transport Testing </h3>
			<p align="left"> EmDAG was applied to a few simple models: </p>
			<ul>
			    <li>5 MeV isotropic neutron point source at model origin</li>
			    <li>All volumes are water-filled (&rho; = 1 g/cc)</li>
			    <li>Faceting tolerance: $10^{-4}$cm </li>			
			    <li>1M histories </li>
			</ul>
			<table>
			    <tbody>
				<tr>
				    <td>
					<p align="center"> Single Sphere </p>
					<img src="../images/sphere_cad.png" width="300px" />
				    </td>								
				    <td>
					<p align="center"> Nested Spheres </p>
					<img src="../images/nested_spheres.png" width="300px" />
				    </td>				
				    <td>
					<p align="center"> Cube </p>
					<img src="../images/cube_cad.png" width="300px" />
				    </td>
				    <td>
					<p align="center"> Nested Cubes </p>
					<img src="../images/nested_cubes.png" width="300px" />
				    </td>				
				</tr>
			    </tbody>
			</table>
			<p>Flux and energy tallies were applied in all cells.</p>
		    </section>
		    
		    <section>
			<h3> Transport Performance </h3>
			<h4> Sphere Models </h4>
			<object data="emdag_sphere_performance.html" width="800px" height="500px"></object>
		    </section>
		    
		    <section>
			<h3 class="no-toc-progress"> Transport Performance </h3>
			<h4> Cube Models </h4>
			<object data="emdag_cube_performance.html" width="800px" height="500px"></object>
		    </section>
		    
		    <section>
			<h3>FNG Transport Test</h3>
			<ul>
			  <li> The original source was replaced with 14.1 MeV neutron isotropic volume source. </li>
			  <li> 100M histories</li>
			  <li> Facet tolerance: 1e-04cm</li>
			  <li> Length tolerance: 5cm </li>
			</ul>
			<img src="images/FNG_cad.png" height="350px">
			<p> A flux mesh tally was applied over the entire problem. </p>
		    </section>
		    
		    <section>
			<h3> FNG Faceting </h3>
			<br><br>
			<table>
			    <tbody>
				<tr>
				    <td align="center"> Faceting Tolerance Only </td>
				    <td align="center"> With Length Tolerance </td>
				</tr>
				<tr>
				    <td align="center"><img src="../images/fng271_facet_tol.png" width="450px"/></td>
				    <td align="center"><img src="../images/fng271_len_tol.png" width="450px"/></td>
				</tr>
			    </tbody>
			</table>
		    </section>
		    
		    <section>
			<h3> FNG Transport Results </h3>
			<object data="emdag_fng_performance.html" width="800px" height="500px"></object>
			<p> 15% improvement in EmDAG performance with length tolerance applied </p> 
		    </section>
		    
		    <section>
			<h3> EmDAG Limitations </h3>
			<table>
			    <tbody>
				<tr>
				    <td> Tolerance(s) </td>
				    <td> Lost Particles </td>
				</tr>
				<tr>
				    <td> Faceting Tolerance </td>
				    <td align="center"> 255 </td>
				</tr>
				<tr>
				    <td> Faceting & Length Tolerance </td>
				    <td align="center"> 247 </td>
				</tr>
			    </tbody>
			</table>
			<br><br>
			<object data="../images/emdag_fng_lost.svg" type="image/svg+xml" class="stretch"></object>
			<p align="center"> Cause: Conversions from single to double precision and vice versa. </p>
		    </section>

		</section>

		<section>
		  <section>
		    <h2 class="vcenter">Enhanced SIMD BVH Traversal for MCRT</h2>
		  </section>
		    <section>
			<h3> Enhanced SIMD BVH Traversal for MCRT</h3>
			<p> Embree does not meet the requirments of the robust tracking algorithm used by DAGMC as it currently exists. </p>
			<ul>
			    <li> Single to double precision conversion decouples logical and numerical position of particles. </li>
			    <li> Embree has no known capability for deeper mesh interrogation for enhanced logical tracking. </li>
			    <li> No closest to location capability is implemented. </li>
			</ul>
			<br></br>
		    </section>
		    
		    <section>
			<h3> Kernel Comparison </h3>
			<br><br>
			<table>
			    <tbody>
				<tr>
				    <td align="center"><b>MOAB</b></td>
				    <td align="center"><b>EmDAG</b></td>
				</tr>
				<tr>
				    <td style="vertical-align:top" width="550px">
					<p><b>Pros:</b></p>
					<ul>
					    <li>designed for interrogation/manipulation of mesh</li>
					    <li>mesh data in contiguous memory</li>
					</ul>
					<p><b>Cons:</b></p>
					<ul>
					    <li>double-precision</li>
					    <li>kernel impeded by database context</li>
					</ul>
				    </td>
				    <td style="vertical-align:top" width="550px">
					<p><b>Pros:</b></p>
					<ul>
					    <li>SIMD BVH ray tracing framework relevant to MCRT</li>
					    <li>mesh data provision design</li>
					</ul>
					<p><b>Cons:</b></p>
					<ul>
					    <li>single-precision</li>
					    <li>limited mesh data interface</li>
					</ul>
				    </td>
				</tr>
			    </tbody>
			</table>
		    </section>
		    
		    <section>
			<h3> Higher Precision SIMD Kernel </h3>
			<br>
			<ul>
			    <li>The natural inclination might be to make Embree double precision</li>
			    <br>
			    <li>This is doubly disadvantageous:</li>
			    <br>
			    <ul>
				<li>slower double precision calculations</li>
				<li>increased box memory means fewer entities can fit in lower level caches</li>
			    </ul>
			</ul>
		    </section>

		    <section>
			<h3> Mixed-precision concept </h3>
			<br><br><br>
			<object data="../images/blurry_dice.svg" type="image/svg+xml" height="300px"></object>
		    </section>
		    
		    <section>
			<h3> Proposed Design of SIMD BVH for MCRT </h3>
			
			<table align="left">
			    <tbody>
				<tr>
				    <td style="vertical-align:top" class="redBlock" width="400px">
					MOAB
					<p>
					    <ul>
						<li>generate expanded single-precision boxes around double-precision primitives</li>
					    </ul>
					</p>
				    </td>
				    <td style="vertical-align:middle;border-bottom: 0px black solid" align="center">&#8594;</td>			    
				    <td style="vertical-align:top" class="redBlock" width="400px">
					RT Kernel
					<p>
					    <ul>	
						<li> mesh provision via MOAB's direct access</li>
						<li>SIMD traversal of single precision hieararchy</li>
						<li>SIMD ray-triangle intersections in double precision</li>
					    </ul>
					</p>
				    </td>
				</tr>
				<br>
				<tr>
				    <td align="right">&#8598;</td>
				    <td class="redBlock" width ="400px">
					DAGMC
					<p>
					    <ul>
						<li> RT Kernel for numerical position </li>
						<li> MOAB for logical position when necessary </li>
					    </ul>
					</p>
				    </td>
				    <td>&#8599;</td>
				</tr>
				   
			    </tbody>
			</table>
		    </section>

		    <section>
			<h3> Enhanced SIMD BVH for MCRT Contributions </h3>
			<br>
			<ul>
			    <li> SIMD BVH oriented closest to location algorithm</li>
			    <br>
			    <li>Single-precision allows much of Embree's speed to be retained as majority of time is spent in BVH traversal.<a href="#bib"><small style="vertical-align:bottom">[3]</small></a></li>
			    <br>
			    <li>Takes advantage of MOAB's direct access methods to provide a spatial hierarchy traversal suitable for engineering analysis purposes with comparable performance to that of analytic geometry methods such as CSG on common CPU architectures.</li>
			    <br>
			</ul>
		    </section>
		    
		</section>
		<!-- Implicit Surfaces -->
		<section id="SDF">
		    
		    <section>
			<h2 class="vcenter">Implicit Surfaces and Signed Distance Fields </h2>
		    </section>
		    
		    <section>
			<h3> Implicit Surfaces </h3>
			<h4> (Level-Set Methods) </h4>
			<p align="center"> An implicit surface is a multivariate function defined over an $ R^3 $ domain</p>
			$$    \Omega(R^3)\rightarrow R $$
			<p align="center"> where points on the surface are represented by the isocontour $v=0$.<a href="#bib"><small style="vertical-align:bottom">[6]</small></a> </p>
			$$   \Omega(\vec{x}) - v  = 0 $$
			<p align="center"> Important geometric properties can be easily recovered from this represntation. </p>
			<table>
			    <tbody>
				<tr class="noBorder">
				    <td align="center" class="fragment">
					<p align="center"> Surface Normal </p>
					$$<\Omega_{x}(\vec{x}),\Omega_{y}(\vec{y}),\Omega_{z}(\vec{z})>$$
				    </td>
				    <td align="center" class="fragment">
					<p> Distance to Nearest Intersection </p>
					$$ |\Omega(\vec{x})| $$
				    </td>
				    <td align="center" class="fragment">
					<p align="center"> Interior vs. Exterior Locations </p>
					$$ sign(\Omega(\vec{x}))$$
				    </td>
				</tr>
			    </tbody>
			</table>
		    </section>
		    
		    <section>
			<h3 class="no-toc-progress"> Implicit Surfaces </h3>
			<p align="left"> Implicit surface uses:
			    <ul>
				<li> modeling (CSG), simulation, triangulation </li>
				<li> rendering of dynamic surfaces like smoke or fire ($\Omega(\vec{x},t)$) <a href="#bib"><small style="vertical-align:bottom">[4]</small></a> </li>
			    </ul>
			    <p align="left" class="fragment"> Ray Marching: </p>
			<p class="fragment current-visible"><object data="../images/rm0.svg" style="margin: -50px -80px 0px 0px" height="500px" type="image/svg+xml"></object></p>
			<p class="fragment current-visible"><object data="../images/rm1.svg" style="margin: -50px -80px 0px 0px" height="500px" type="image/svg+xml"></object></p>
		    </section>
		    
		    <section>
			<h3> Signed Distance Fields </h3>
			    <ul>
				<li> $ d(\vec{x}) = 0 $ for all $\vec{x}$ on the surface boundary </li>
				<li> $ d(\vec{x}) > 0 $ for all $\vec{x}$ inside the surface boundary </li>
				<li> $ d(\vec{x}) < 0  $ for all $\vec{x}$ outside the surface boundary </li>
			    </ul>
			    <p align="center"> $ d(\vec{x}) = sign(\Omega(\vec{x}))|\Omega(\vec{x})| $ </p>
			    <object data="../images/preconditioner_datastruct.svg" type="image/svg+xml" height="400px"></object>
		    </section>
		    
		    <section>
			<h3> Particle Tracking Preconditioner </h3>
			<p align="left"> Concept: Use interpolated signed distance values to rule out surface crossing between current position and next event location. </p>

			<ul>
			    <li> avoids O(log(N)) in favor of O(1) process </li>
			    <li> best for particles traveling far from surfaces </li>			    
			</ul>
			<object data="../images/preconditioner_ex_pres.svg" type="image/svg+xml" class="stretch"></object>
		    </section>

		    <section>
			<h3 class="no-toc-progress"> Particle Tracking Preconditioner </h3>
			<br><br>
			<ul>
			    <li> Signed Distance Values (SDVs) can be used to precondition closest to location calls or determine point containment in O(1) complexity as well.</li>			    
			</ul>

			<p align="left"> Simple condition for these operations: </p>
			<p align="center"> $ |SDV| > \epsilon $ </p>
		    </section>
		    
		    <section>
			<h3> Interpolation Error Estimate </h3>
			<h4> (a 2D Linear example) </h4>
			<p align="center"> $$ \epsilon = \frac{1}{2} \Delta x (h-\Delta x) \frac{\partial^2 u}{\partial x^2} + \frac{1}{2} \Delta y (h-\Delta y)  \frac{\partial^2 u}{\partial y^2} $$ </p>
			<table>
			    <tbody>
				<tr class="noBorder"><td>$$ \epsilon $$</td><td>- interpolation error </td></tr>
				<tr class="noBorder"><td>$$ \Delta x $$</td><td> - x distance to interpolation point from data point </td></tr>				
				<tr class="noBorder"><td>$$ h $$</td><td> - mesh interval size </td></tr>
				<tr class="noBorder"><td>$$ u(x,y) $$</td><td>- sampled function on mesh </td></tr>				
				<tr class="noBorder"><td>$$ \Delta y $$ </td> <td> - y distance to interpolation point from data point </td></tr>
			    </tbody>
			</table>
			<p align="center"> <i>curvature terms are problematic</i> </p>
		    </section>
		    
		    <section>
			<h3> Initial Implementation </h3>
			<ul>
			    <li>uses MOAB's structured mesh interface</li>
			    <li>populated using MOAB's ray tracing interface (closest to location)</li>
			    <ul>
				<li>disambiguates distance value signs using DAGMC's point containment algorithm</li>
			    </ul>
			</ul>
			<img src="../images/sdf_sphere.png" height="500px"/>
		    </section>
		    
		    <section>
			<h3> Preconditioner Test </h3>
			<table>
			    <tbody>
				<tr>
				    <td width="500px">
					<ul>
					    <li>10cm radius sphere</li>
					    <li>5 MeV isotropic neutron point source at origin</li>

					    <li>density varied from 0 to 1 (g/cc) </li>
					</ul>
				    </td>
				    <td width="500px">
					<ul>
					    <li>faceting tolerance: $10^{-4}$cm </li>			
					    <li>1M histories (100k for profiling) </li>
					    <li> Mesh step size: $h = 0.5cm$ </li>
					    <li> Error evaluation: $\sqrt{3}h$
					</ul>
				    </td>
				</tr>
			    </tbody>
			</table>
			<img src="../images/sphere_cad.png" height="300px" align="center" />
			<p> Flux and energy cell tallies were applied.</p>
		    </section>
		    
		    <section id="precond_sphere_water">
			<h3> Initial Results </h3>
			<object data="precond_sphere_water.html" class="stretch"></object>
		    </section>

		    <section>
			<h3> Initial Results </h3>
			<object data="precond_rays_fired.html" class="stretch"></object>
		    </section>
		    
		    <section>
			<h3> Initial Results </h3>
			<p align="center"> $$ u = \frac{dagmc\, rays -  dagmc\, w/\, precond.\, rays}{dagmc\, rays}$$ </p>
			<object data="precond_utilization.html" class="stretch"></object>
		    </section>

		    <section>
			<h3> Charged Particle Transport </h3>
			<ul>
			    <li> Particles take many small steps in space to approximate their straggling paths. </li>
			    <li> Each step requires a geometry check for surface crossing. </li>
			</ul>
			<div class="fragment">
			<p align="left"> A sample problem of electron transport from MCNP6 tests: </p>
			<ul>
			    <li> Flouresence test of 1 keV - 100 keV photons on Fe/W target </li>
			    <li> 5,000 histories </li>
			    <li> single-event electron physics </li>
			</ul>
			<br>
			<img align="center" src="../images/066_cad.png" height="250px"/>
			</div>
			
		    </section>

		    <section>
			<h3> Initial Results </h3>
			<br><br>
			<table>
			    <tbody>
				<tr>
				    <td align="center"></td>
				    <td align="center"> MCNP6<a href="#bib"><small style="vertical-align:bottom">[2]</small></a> </td>
				    <td align="center"> DAG-MCNP6 w/ Precond. </td>				    
				    <td align="center"> DAG-MCNP6 </td>
				</tr>
				<tr>
				    <td align="center">Run Time (min)</td>
				    <td align="center">0.16 </td>
				    <td align="center">0.46</td>
				    <td align="center">1413.94</td>
				</tr>
			    </tbody>
			</table>
			<br>
		    </section>
		    
		</section>

		<section>

		  <section>
		    <h2 class="vcenter"> Signed Distance Field Preconditioner </h2>
		  </section>
		  
		  <section>
			<h3> Signed Distance Field Preconditioner </h3>
			<ul>
			    <li> The SDF preconditioner has already been shown to be a powerful acceleration tool given the <a href="#precond_sphere_water">proper conditions</a>.  </li>
			    <br>
			    <li> The identification of proper conditions for this data structure is important.</li>
			    <br>
			    <li> Memory usage is a concern: </li>
			    <ul>
				<li> Adaptive mesh refinement or octree may be useful. </li>
				<li> Error estimation becomes more difficult with non-uniform techniques. </li>
				<li> Other global uniform mesh methods will be explored.<a href="#bib"><small style="vertical-align:bottom">[7]</small></a></li>
			    </ul>
			</ul>
		    </section>

		    <section>
			<h3> Signed Distance Field Preconditioner Contributions </h3>
			<ul>
			    <li>Population of signed distance field with ray tracing kernel rather than generating an implicit surface representation for static mesh application.</li>
			    <br>
			    <li>When applied in a robust manner, this method can decrease lost particle rate in unsealed models.</li>
			    <br>
			    <li>Coupling of the signed distance field to the BVH may provide insight for further accelerations.</li>
			    <br>
			    <li>When well utilized, this data structure can bring particle tracking closer to an O(1) process than the O(logN) process relied upon in the past.</li>
			</ul>
			<br>
			<p> $$ u\, O(1) + (1-u)\,O(logN) $$ </p>
		    </section>

		</section>

		<!-- Summary  -->
		<section>

		    <section id="Summary">
			<h2 class="vcenter">Summary</h2>
		    </section>

		    <section>
			<h3> Feature-Adaptive BVH Contributions </h3>
			<br><br>
			<ul>
			    <li> Adaptive building addresses common mesh feature which is difficult for generalized heuristics to cope with and is deterimental to performance. </li>
			    <br>
			    <li> BVH heuristic adaptation maintains expected O(logN) performance without the need for additional triangles or mesh alteration. </li>
			</ul>
			<br><br>
			<p>
			    <span style="color:green"> $tts$ </span>
			    $ =\,  C +$ <span style="color:red">$T_{B}$</span>
			    $ + $
			    <span style="color:green">$\sum_{}^{N_{r}} T_{T}$</span>
			    $($
			    <span style="color:red">$T_{B}$</span> $,\ldots) $
			</p>
		    </section>

		    <section>
			<h3> Feature-Adaptive BVH Objectives </h3>

			<ul>
			    <br>
			    <li> Implement feature-adaptive BVH builder in MOAB as proposed </li>
			    <br>
			    <li> Establish conditions for leaf nodes expected to have a significant impact on performance </li>
			    <br>
			    <li> Characterize and address any other detrimental mesh features discovered along the way </li>
			    <br>
			    <ul>
				<li>These additional mesh features may only be elucidated by a higher-performance system.</li>
			    </ul>
			    <li>Demonstrate effecitveness for transport on HV test model and other production models known to contain HV featires.</li>
			</ul>
			
		    </section>

		    <section>
			<h3> Enhanced SIMD BVH for MCRT Contributions </h3>
			<br>
			<ul>
			    <li> SIMD BVH oriented closest to location algorithm</li>
			    <br>
			    <li>Single-precision allows much of Embree's speed to be retained as majority of time is spent in BVH traversal.<a href="#bib"><small style="vertical-align:bottom">[3]</small></a></li>
			    <br>
			    <li>Takes advantage of MOAB's direct access methods to provide a spatial hierarchy traversal suitable for engineering analysis purposes with comparable performance to that of analytic geometry methods such as CSG on common CPU architectures.</li>
			    <br>
			    <li> Allows DAGMC's robust particle tracking to be coupled to a high-performance ray tracing kernel for improved CAD-Based radiation transport performance.</li>
			</ul>
		    </section>

		    <section>
			<h3> Enhanced SIMD BVH for MCRT Objectives </h3>
			<ul>
			    <br>
			    <li>Implement a SIMD-oriented BVH builder in MOAB which generates memory contiguous single-precision bounding boxes around double-precision primitives (triangles).</li>
			    <br>
			    <li>Develop or extend a ray tracing kernel which is capable of SIMD traversal on the MOAB-provided BVH and associated double-precision triangles. </li>
			    <ul>
				<li>Kernel should have no more lost particles than would be seen in the current version of DAGMC for the same triangle mesh. </li>
				<li>Kernel should provide comparable performance to the EmDAG system. </li>
			    </ul>
			    <br>
			    <li>Compare performance and robustness to EmDAG system for simple transport problems</li>
			    <br>
			    <li>Demonstrate effectiveness for production models as well</li>
			</ul>
			<
		    </section>
		    
		    <section>
			<h3> Signed Distance Field Preconditioner Contributions </h3>
			<ul>
			    <li>Population of signed distance field with ray tracing kernel rather than generating an implicit surface representation for static mesh application.</li>
			    <br>
			    <li>When applied in a robust manner, this method can decrease lost particle rate in unsealed models.</li>
			    <br>
			    <li>When well utilized, this data structure can bring particle tracking closer to an O(1) process than the O(logN) process relied upon in the past.</li>
			</ul>
			<br>
			<p> $$ u\, O(1) + (1-u)\,O(logN) $$ </p>
		    </section>

		    <section>
			<h3> Signed Distance Field Preconditioner Objectives </h3>
			<ul>
			    <li>Create a predictive model for preconditioner utilization, $u$, based on three problem-specific factors:</li>
			    <br>
			    <p> $$ u(\lambda,v,h) $$ </p>
			    <ul>
				<li>$\lambda$ - average mean free path</li>
				<li>$v$ - characteristic volume size</li>
				<li>$h$ - preconditioner mesh step size</li>
			    </ul>
			    <br>
			    <li>Explore global uniform mesh preconditioner solutions for production DAGMC models.</li>
			    <br>
			    <li>Demonstrate effectiveness of the utilization model and resulting data structure in toy and production models for neutron, photon, and charged particle transport.</li>
			</ul>
		    </section>

		    <section>
			<h3> Preliminary Timeline </h3>
			<br><br>
			<p>Feature-Adaptive BVH Construction: 1-2 months</p>
			<p>Enhanced SIMD BVH for MCRT: 6-8 months</p>
			<p>Signed Distance Field Preconditioner: 4-6 months</p>			    
		    </section>
		    
		    <section>
			<h3> Complementary Effects </h3>
			<br>
			<ul>
			    <li> A SIMD-based closest to location algorithm </li>
			    <br>
			    <li> A SIMD-based closest to location algorithm may allow us to avoid other, more costly methods of populating the SDF data structure.</li>
			    <br>
			    <li> Coupling of the signed distance field to the BVH may provide insight for further accelerations.</li>
			    <br>
			    <li> Feature-adaptive BVH construction will improve performance of both signed distance field population and transport queries during simulation.</li>
			    <br>
			</ul>
			<p class="fragment"><b>The combined effect provides a more efficient pathway for CAD-Based Monte Carlo Radiation Transport analysis.</b></p>

		    </section>

		    <section>
			<h3> Acknowledgements </h3>
			<br><br>
			<p> I would like to thank all members of the Computational Nuclear Engineering Reserach Group here at UW and in particular: </p>
			<ul>
			    <li> Dr. Paul Wilson </li>
			    <li> Dr. Andrew Davis </li>
			    <li> Lucas Jacobson </li>
			</ul>
			<p>And to the Nuclear Regulatory Comission for funding this work.</p>
			<img align="center" src="images/NRClogo.png" height="100px"/>
		    </section>
		    
		    <section id="bib">
			<h3> References </h3>
			<small>
			    <div class="references">
				<p>[1] Glassner, Andrew S., ed. 1989. <em>An Introduction to Ray Tracing</em>. London, UK, UK: Academic Press Ltd.</p>
				<p>[2] Goorley, T., M. James, T. Booth, F. Brown, J. Bull, L.J. Cox, J. Durkee, et al. 2016. “Features of {MCNP6}.” <em>Annals of Nuclear Energy</em> 87, Part 2: 772–83. doi:<a href="http://dx.doi.org/http://dx.doi.org/10.1016/j.anucene.2015.02.020">http://dx.doi.org/10.1016/j.anucene.2015.02.020</a>.</p>
				<p>[3]Baboulin, Marc, Alfredo Buttari, Jack Dongarra, Jakub Kurzak, Julie Langou, Julien Langou, Piotr Luszczek, and Stanimire Tomov. 2009. “Accelerating Scientific Computations with Mixed Precision Algorithms.” <em>Computer Physics Communications</em> 180 (12): 2526–33. doi:<a href="http://dx.doi.org/http://dx.doi.org/10.1016/j.cpc.2008.11.005">http://dx.doi.org/10.1016/j.cpc.2008.11.005</a>.</p>				
				<p>[4]Knoll, Aaron. 2008. “A Survey of Implicit Surface Rendering Methods, and a Proposal for a Common Sampling Framework.” <em>Lecture Notes in Informatics (LNI), Proceedings - Series of the Gesellschaft Fur Informatik (GI)</em>, 164–77.</p>				
				<p>[5] MacDonald, Kellogg S., J. David ; Booth. 1990. “Heuristics for Ray Tracing Using Space Subdivision.” <em>The Visual Computer</em> 6 (3): 153–66. doi:<a href="http://dx.doi.org/10.1007/BF01911006">10.1007/BF01911006</a>.</p>
				<p>[6]Osher, Stanley, and Ronald P. Fedkiw. 2003. <em>Level Set Methods and Dynamic Implicit Surfaces</em>. Applied Mathematical Science. New York, N.Y.: Springer. <a href="http://opac.inria.fr/record=b1099358" class="uri">http://opac.inria.fr/record=b1099358</a>.</p>
				<p>[7] Setaluri, Rajsekhar, Mridul Aanjaneya, Sean Bauer, and Eftychios Sifakis. 2014. “SPGrid: A Sparse Paged Grid Structure Applied to Adaptive Smoke Simulation.” <em>ACM Trans. Graph.</em> 33 (6). New York, NY, USA: ACM: 205:1–205:12. doi:<a href="http://dx.doi.org/10.1145/2661229.2661269">10.1145/2661229.2661269</a>.</p>
				<p>[8]Smith, B.M., T.J. Tautges, and P.P.H. Wilson. 2010. “Sealing Faceted Surfaces to Achieve Watertight CAD Models.” In. Chattanooga, TN, United States.</p>				
				<p>[9] Tautges, T. J., R. Meyers, K. Merkley, C. Stimpson, and C. Ernst. 2004. <em>MOAB: A Mesh-Oriented Database</em>. SAND2004-1592. Sandia National Laboratories.</p>
			    </div>
			</small>
		    </section>
		    
		    <section id="bib1">
		      <h3 class="no-toc-progress"> References </h3>
		      <small>
			<div class="references">
		    				<p>[10] Tautges, Timothy J., P. P. H. Wilson, Jason Kraftcheck, Brandon M. Smith, and Douglass L. Henderson. 2009. “Acceleration Techniques for Direct Use of CAD-Based Geometries in Monte Carlo Radiation Transport.” In <em>International Conference on Mathematics, Computational Methods &amp; Reactor Physics (M&amp;C 2009)</em>. Saratoga Springs, NY: American Nuclear Society.</p>
				<p>[11] Wald, Ingo, Sven Woop, Carsten Benthin, Gregory S. Johnson, and Manfred Ernst. 2014. “Embree: A Kernel Framework for Efficient CPU Ray Tracing.” <em>ACM Trans. Graph.</em> 33 (4). New York, NY, USA: ACM: 143:1–:8. doi:<a href="http://dx.doi.org/10.1145/2601097.2601199">10.1145/2601097.2601199</a>.</p>
				<p>[12] X-5 Monte Carlo Team. 2004. <em>MCNP - a General Monte Carlo N-Particle Transport Code, Version 5 - Volume III: Developers Guide</em>. LA-CP-03-0284. Los Alamos National Laboratory.</p>
		      </small>
		      </div>
		    </section>
		    
	    </div>
	</div>
                <!-- SCRIPTS -->
		<script src="reveal.js/lib/js/head.min.js"></script>
		<script src="reveal.js/js/reveal.js"></script>
		<script>
		     Reveal.initialize({
			 controls: true,
			 progress: true,
			 history: true,
			 center: false,
			 slideNumber: true,
			 keyboard: { 56: function() { Reveal.slide( 8 ) } },
			 transition: 'none', // none/fade/slide/convex/concave/zoom
			 // More info https://github.com/hakimel/reveal.js#dependencies
			 dependencies: [
			     { src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
			     { src: 'reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
			     { src: 'reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
			     { src: 'reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
			     { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true },
			     { src: 'reveal.js/plugin/notes/notes.js', async: true },
			     { src: 'reveal.js/plugin/math/math.js', async: true },
			     { src: 'presentable/dist/presentable.js', callback: function() { presentable.toc({framework: "revealjs"}); } },
			     { src: 'toc-progress/plugin/toc-progress/toc-progress.js', async: true, callback: function() { toc_progress.initialize(); toc_progress.create(); } }
			 ]
		     });
		 Reveal.configure( {slideNumber: 'c'});
		</script>
		<script type="text/javascript">
		 var newDate = new Date();
		 newDate.setDate(newDate.getDate());
		 document.getElementById('displayDate').innerHTML = (newDate.getMonth() + 1) + '/' + newDate.getDate() + '/' + newDate.getFullYear();
		</script>

				<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'reveal.js/css/print/pdf.css' : '/reveal.js/css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
		

    </body>
</html>
